import*as Common from"../common/common.js";export const IssueCategory={CrossOriginEmbedderPolicy:Symbol("CrossOriginEmbedderPolicy"),SameSiteCookie:Symbol("SameSiteCookie"),Other:Symbol("Other")};export const IssueKind={BreakingChange:Symbol("BreakingChange")};export let IssueDescription;export class Issue extends Common.ObjectWrapper.ObjectWrapper{constructor(e){super(),this._code=e}code(){return this._code}cookies(){return[]}requests(){return[]}isAssociatedWithRequestId(e){for(const s of this.requests())if(s.requestId===e)return!0;return!1}getDescription(){}getCategory(){}}export class AggregatedIssue extends Issue{constructor(e){super(e),this._cookies=new Map,this._requests=new Map,this._representative=null}cookies(){return this._cookies.values()}requests(){return this._requests.values()}getDescription(){return this._representative?this._representative.getDescription():null}getCategory(){return this._representative?this._representative.getCategory():IssueCategory.Other}addInstance(e){this._representative||(this._representative=e);for(const s of e.cookies()){const e=JSON.stringify(s);this._cookies.has(e)||this._cookies.set(e,s)}for(const s of e.requests())this._requests.has(s.requestId)||this._requests.set(s.requestId,s)}}