import*as Common from"../common/common.js";import{createShadowRootWithCoreStyles}from"./utils/create-shadow-root-with-core-styles.js";export class ProgressIndicator{constructor(){this.element=createElementWithClass("div","progress-indicator"),this._shadowRoot=createShadowRootWithCoreStyles(this.element,"ui/progressIndicator.css"),this._contentElement=this._shadowRoot.createChild("div","progress-indicator-shadow-container"),this._labelElement=this._contentElement.createChild("div","title"),this._progressElement=this._contentElement.createChild("progress"),this._progressElement.value=0,this._stopButton=this._contentElement.createChild("button","progress-indicator-shadow-stop-button"),this._stopButton.addEventListener("click",this.cancel.bind(this)),this._isCanceled=!1,this._worked=0}show(t){t.appendChild(this.element)}done(){this._isDone||(this._isDone=!0,this.element.remove())}cancel(){this._isCanceled=!0}isCanceled(){return this._isCanceled}setTitle(t){this._labelElement.textContent=t}setTotalWork(t){this._progressElement.max=t}setWorked(t,e){this._worked=t,this._progressElement.value=t,e&&this.setTitle(e)}worked(t){this.setWorked(this._worked+(t||1))}}