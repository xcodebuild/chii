Node.prototype.rangeOfWord=function(t,e,o,n){let r,i,s=0,l=0;if(o||(o=this),n&&"backward"!==n&&"both"!==n)r=this,s=t;else{let n=this;for(;n;){if(n===o){r||(r=o);break}if(n.nodeType===Node.TEXT_NODE){for(let o=n===this?t-1:n.nodeValue.length-1;o>=0;--o)if(-1!==e.indexOf(n.nodeValue[o])){r=n,s=o+1;break}}if(r)break;n=n.traversePreviousNode(o)}r||(r=o,s=0)}if(n&&"forward"!==n&&"both"!==n)i=this,l=t;else{let n=this;for(;n;){if(n===o){i||(i=o);break}if(n.nodeType===Node.TEXT_NODE){for(let o=n===this?t:0;o<n.nodeValue.length;++o)if(-1!==e.indexOf(n.nodeValue[o])){i=n,l=o;break}}if(i)break;n=n.traverseNextNode(o)}i||(i=o,l=o.nodeType===Node.TEXT_NODE?o.nodeValue.length:o.childNodes.length)}const h=this.ownerDocument.createRange();return h.setStart(r,s),h.setEnd(i,l),h},Node.prototype.traverseNextTextNode=function(t){let e=this.traverseNextNode(t);if(!e)return null;const o={STYLE:1,SCRIPT:1};for(;e&&(e.nodeType!==Node.TEXT_NODE||o[e.parentElement.nodeName]);)e=e.traverseNextNode(t);return e},Element.prototype.positionAt=function(t,e,o){let n={x:0,y:0};o&&(n=o.boxInWindow(this.ownerDocument.defaultView)),"number"==typeof t?this.style.setProperty("left",n.x+t+"px"):this.style.removeProperty("left"),"number"==typeof e?this.style.setProperty("top",n.y+e+"px"):this.style.removeProperty("top"),"number"==typeof t||"number"==typeof e?this.style.setProperty("position","absolute"):this.style.removeProperty("position")},Element.prototype.isScrolledToBottom=function(){return Math.abs(this.scrollTop+this.clientHeight-this.scrollHeight)<=2},Node.prototype.enclosingNodeOrSelfWithNodeNameInArray=function(t){for(let e=this;e&&e!==this.ownerDocument;e=e.parentNodeOrShadowHost())for(let o=0;o<t.length;++o)if(e.nodeName.toLowerCase()===t[o].toLowerCase())return e;return null},Node.prototype.enclosingNodeOrSelfWithNodeName=function(t){return this.enclosingNodeOrSelfWithNodeNameInArray([t])},Node.prototype.enclosingNodeOrSelfWithClass=function(t,e){return this.enclosingNodeOrSelfWithClassList([t],e)},Node.prototype.enclosingNodeOrSelfWithClassList=function(t,e){for(let o=this;o&&o!==e&&o!==this.ownerDocument;o=o.parentNodeOrShadowHost())if(o.nodeType===Node.ELEMENT_NODE){let e=!0;for(let n=0;n<t.length&&e;++n)o.classList.contains(t[n])||(e=!1);if(e)return o}return null},Node.prototype.enclosingShadowRoot=function(){let t=this.parentNodeOrShadowHost();for(;t;){if(t instanceof ShadowRoot)return t;t=t.parentNodeOrShadowHost()}return null},Node.prototype.hasSameShadowRoot=function(t){return this.enclosingShadowRoot()===t.enclosingShadowRoot()},Node.prototype.parentElementOrShadowHost=function(){if(this.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&this.host)return this.host;const t=this.parentNode;return t?t.nodeType===Node.ELEMENT_NODE?t:t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:null:null},Node.prototype.parentNodeOrShadowHost=function(){return this.parentNode?this.parentNode:this.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&this.host?this.host:null},Node.prototype.getComponentSelection=function(){let t=this.parentNode;for(;t&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;)t=t.parentNode;return t instanceof ShadowRoot?t.getSelection():this.window().getSelection()},Node.prototype.hasSelection=function(){if(this instanceof Element){const t=this.querySelectorAll("slot");for(const e of t)if(Array.prototype.some.call(e.assignedNodes(),t=>t.hasSelection()))return!0}const t=this.getComponentSelection();return"Range"===t.type&&(t.containsNode(this,!0)||t.anchorNode.isSelfOrDescendant(this)||t.focusNode.isSelfOrDescendant(this))},Node.prototype.window=function(){return this.ownerDocument.defaultView},Element.prototype.removeChildren=function(){this.firstChild&&(this.textContent="")},self.createElement=function(t,e){return document.createElement(t,{is:e})},self.createTextNode=function(t){return document.createTextNode(t)},Document.prototype.createElementWithClass=function(t,e,o){const n=this.createElement(t,{is:o});return e&&(n.className=e),n},self.createElementWithClass=function(t,e,o){return document.createElementWithClass(t,e,o)},Document.prototype.createSVGElement=function(t,e){const o=this.createElementNS("http://www.w3.org/2000/svg",t);return e&&o.setAttribute("class",e),o},self.createSVGElement=function(t,e){return document.createSVGElement(t,e)},self.createDocumentFragment=function(){return document.createDocumentFragment()},Element.prototype.createChild=function(t,e,o){const n=this.ownerDocument.createElementWithClass(t,e,o);return this.appendChild(n),n},DocumentFragment.prototype.createChild=Element.prototype.createChild,Element.prototype.createTextChild=function(t){const e=this.ownerDocument.createTextNode(t);return this.appendChild(e),e},DocumentFragment.prototype.createTextChild=Element.prototype.createTextChild,Element.prototype.createTextChildren=function(t){for(let t=0,e=arguments.length;t<e;++t)this.createTextChild(arguments[t])},DocumentFragment.prototype.createTextChildren=Element.prototype.createTextChildren,Element.prototype.totalOffsetLeft=function(){return this.totalOffset().left},Element.prototype.totalOffsetTop=function(){return this.totalOffset().top},Element.prototype.totalOffset=function(){const t=this.getBoundingClientRect();return{left:t.left,top:t.top}},Element.prototype.createSVGChild=function(t,e){const o=this.ownerDocument.createSVGElement(t,e);return this.appendChild(o),o},self.AnchorBox=class{constructor(t,e,o,n){this.x=t||0,this.y=e||0,this.width=o||0,this.height=n||0}contains(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}relativeTo(t){return new AnchorBox(this.x-t.x,this.y-t.y,this.width,this.height)}relativeToElement(t){return this.relativeTo(t.boxInWindow(t.ownerDocument.defaultView))}equals(t){return!!t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}},Element.prototype.boxInWindow=function(t){t=t||this.ownerDocument.defaultView;const e=new AnchorBox;let o=this,n=this.ownerDocument.defaultView;for(;n&&o&&(e.x+=o.totalOffsetLeft(),e.y+=o.totalOffsetTop(),n!==t);)o=n.frameElement,n=n.parent;return e.width=Math.min(this.offsetWidth,t.innerWidth-e.x),e.height=Math.min(this.offsetHeight,t.innerHeight-e.y),e},Event.prototype.consume=function(t){this.stopImmediatePropagation(),t&&this.preventDefault(),this.handled=!0},Text.prototype.select=function(t,e){t=t||0,e=e||this.textContent.length,t<0&&(t=e+t);const o=this.getComponentSelection();o.removeAllRanges();const n=this.ownerDocument.createRange();return n.setStart(this,t),n.setEnd(this,e),o.addRange(n),this},Element.prototype.selectionLeftOffset=function(){const t=this.getComponentSelection();if(!t.containsNode(this,!0))return null;let e=t.anchorOffset,o=t.anchorNode;for(;o!==this;){for(;o.previousSibling;)o=o.previousSibling,e+=o.textContent.length;o=o.parentNodeOrShadowHost()}return e},Node.prototype.appendChildren=function(t){for(let t=0,e=arguments.length;t<e;++t)this.appendChild(arguments[t])},Node.prototype.deepTextContent=function(){return this.childTextNodes().map((function(t){return t.textContent})).join("")},Node.prototype.childTextNodes=function(){let t=this.traverseNextTextNode(this);const e=[],o={STYLE:1,SCRIPT:1};for(;t;)o[t.parentElement.nodeName]||e.push(t),t=t.traverseNextTextNode(this);return e},Node.prototype.isAncestor=function(t){if(!t)return!1;let e=t.parentNodeOrShadowHost();for(;e;){if(this===e)return!0;e=e.parentNodeOrShadowHost()}return!1},Node.prototype.isDescendant=function(t){return!!t&&t.isAncestor(this)},Node.prototype.isSelfOrAncestor=function(t){return!!t&&(t===this||this.isAncestor(t))},Node.prototype.isSelfOrDescendant=function(t){return!!t&&(t===this||this.isDescendant(t))},Node.prototype.traverseNextNode=function(t){if(this.shadowRoot)return this.shadowRoot;const e=this instanceof HTMLSlotElement?this.assignedNodes():[];if(e.length)return e[0];if(this.firstChild)return this.firstChild;let o=this;for(;o;){if(t&&o===t)return null;const e=n(o);if(e)return e;o=o.assignedSlot||o.parentNodeOrShadowHost()}function n(t){if(!t.assignedSlot)return t.nextSibling;const e=t.assignedSlot.assignedNodes(),o=Array.prototype.indexOf.call(e,t);return o+1<e.length?e[o+1]:null}return null},Node.prototype.traversePreviousNode=function(t){if(t&&this===t)return null;let e=this.previousSibling;for(;e&&e.lastChild;)e=e.lastChild;return e||this.parentNodeOrShadowHost()},Node.prototype.setTextContentTruncatedIfNeeded=function(t,e){return"string"==typeof t&&t.length>1e4?(this.textContent="string"==typeof e?e:t.trimMiddle(1e4),!0):(this.textContent=t,!1)},Event.prototype.deepElementFromPoint=function(){if(!(this.which||this.pageX||this.pageY||this.clientX||this.clientY||this.movementX||this.movementY))return null;const t=this.target&&this.target.getComponentRoot();return t?t.deepElementFromPoint(this.pageX,this.pageY):null},Document.prototype.deepElementFromPoint=function(t,e){let o=this,n=null;for(;o;){const r=o.elementFromPoint(t,e);if(!r||n===r)break;n=r,o=n.shadowRoot}return n},DocumentFragment.prototype.deepElementFromPoint=Document.prototype.deepElementFromPoint,Document.prototype.deepActiveElement=function(){let t=this.activeElement;for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t},DocumentFragment.prototype.deepActiveElement=Document.prototype.deepActiveElement,Element.prototype.hasFocus=function(){const t=this.getComponentRoot();return!!t&&this.isSelfOrAncestor(t.activeElement)},Node.prototype.getComponentRoot=function(){let t=this;for(;t&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&t.nodeType!==Node.DOCUMENT_NODE;)t=t.parentNode;return t},self.onInvokeElement=function(t,e){t.addEventListener("keydown",t=>{self.isEnterOrSpaceKey(t)&&e(t)}),t.addEventListener("click",t=>e(t))},self.isEnterKey=function(t){return 229!==t.keyCode&&"Enter"===t.key},self.isEnterOrSpaceKey=function(t){return self.isEnterKey(t)||" "===t.key},self.isEscKey=function(t){return 27===t.keyCode},function(){const t=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,o){return 1===arguments.length&&(o=!this.contains(e)),t.call(this,e,!!o)}}();